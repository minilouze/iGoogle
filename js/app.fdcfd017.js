(function(t){function e(e){for(var n,a,c=e[0],s=e[1],l=e[2],d=0,m=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&m.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,c=1;c<i.length;c++){var s=i[c];0!==r[s]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},r={app:0},o=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/iGoogle/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"3e0f":function(t,e,i){},"47c5":function(t,e,i){t.exports=i.p+"img/grid.b0f057f3.svg"},5401:function(t,e,i){"use strict";i("f6dd")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"topBar"}},[i("InputColorPicker",{model:{value:t.themeColor,callback:function(e){t.themeColor=e},expression:"themeColor"}}),i("Menu")],1),i("WidgetsList",{attrs:{widgets:t.widgets,themeColor:t.themeColor},on:{deleteWidgetFromSource:t.deleteWidget}}),i("WidgetsAdder",{attrs:{bus:t.bus},on:{onReceivedDataWidget:t.addWidget,onAskedPrompt:t.openPrompt,onError:function(e){t.hasWidgetError=!0}}}),i("PromptsManager",{attrs:{bus:t.bus},on:{onConfirm:t.requestData,onCancel:function(e){t.promptOpened=!1}}}),i("md-dialog-alert",{attrs:{"md-active":t.hasWidgetError,"md-content":"Désolé, ce widget n'est pas disponible pour le moment &#128533;","md-confirm-text":"Pas grave"},on:{"update:mdActive":function(e){t.hasWidgetError=e},"update:md-active":function(e){t.hasWidgetError=e}}})],1)},o=[],a=(i("d81d"),i("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{attrs:{id:"iGoogle-menu"}},[t._m(0),t._m(1),t._m(2),n("li",[n("a",{staticClass:"links",attrs:{href:"#user"}},[n("md-avatar",[n("img",{attrs:{src:i("588d"),alt:"Avatar"}})])],1)])])}),c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"#gmail"}},[t._v("Gmail")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"#images"}},[t._v("Images")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#grid"}},[n("img",{staticClass:"grid",attrs:{src:i("47c5"),title:"Google apps"}})])])}],s={name:"Menu"},l=s,u=(i("a0d8"),i("2877")),d=Object(u["a"])(l,a,c,!1,null,"8cb064de",null),m=d.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("md-speed-dial",{attrs:{id:"add-widget"}},[i("md-speed-dial-target",{staticClass:"md-primary"},[i("md-icon",[t._v("add")])],1),i("md-speed-dial-content",[i("md-button",{staticClass:"md-icon-button",on:{click:function(e){return t.getWidgetData({widgetType:t.widgetTypes.MICHEL_BILLAUD_TWITTER})}}},[i("md-icon",[t._v("person")])],1),i("md-button",{staticClass:"md-icon-button",on:{click:function(e){return t.openPrompt(t.widgetTypes.NEWS)}}},[i("md-icon",[t._v("article")])],1),i("md-button",{staticClass:"md-icon-button",on:{click:function(e){return t.openPrompt(t.widgetTypes.PICTURES)}}},[i("md-icon",[t._v("image")])],1),i("md-button",{staticClass:"md-icon-button",on:{click:function(e){return t.openPrompt(t.widgetTypes.WEATHER)}}},[i("md-icon",[t._v("thermostat")])],1),i("md-button",{staticClass:"md-icon-button",on:{click:function(e){return t.getWidgetData({widgetType:t.widgetTypes.CLOCK})}}},[i("md-icon",[t._v("schedule")])],1)],1)],1)},f=[],g=i("b85c"),h=(i("2b3d"),i("d3b7"),i("3ca3"),i("ddb0"),i("b0c0"),i("99af"),i("bc3a")),v=i.n(h),b=(i("dca8"),Object.freeze({WEATHER:{id:1,api:"http://api.weatherstack.com/current?access_key=8a3910f661c45e015711823eb5df116a",paramName:"query",information:{componentName:"Weather",configurable:!0,materialIcon:"thermostat",title:"Météo"}},PICTURES:{id:2,api:"https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=4c961240fea7a5205c865fd44e0152af",paramName:"text",information:{componentName:"Pictures",configurable:!0,materialIcon:"image",title:"Images"}},NEWS:{id:3,api:"https://newsapi.org/v2/everything?apiKey=d8567e8a076140a08c7ee9d4a2d459fa",paramName:"q",information:{componentName:"News",configurable:!0,materialIcon:"article",title:"News"}},MICHEL_BILLAUD_TWITTER:{id:4,information:{componentName:"MichelBillaudTwitter",configurable:!1,materialIcon:"person",title:"@MichelBillaud"}},CLOCK:{id:5,information:{componentName:"Clock",configurable:!1,materialIcon:"schedule",title:"Date/Heure"}}})),w=i("d4ec"),y=(i("b64b"),i("caad"),i("4de4"),i("2532"),i("af93"),["id","componentName","configurable","materialIcon","title","subtitle","properties"]),_=function t(e){Object(w["a"])(this,t);for(var i=Object.keys(e),n=0,r=i;n<r.length;n++){var o=r[n];if(!y.includes(o))throw"La propriété ".concat(o," n'existe pas.");this[o]=e[o]}var a,c=y.filter((function(t){return!i.includes(t)})),s=Object(g["a"])(c);try{for(s.s();!(a=s.n()).done;){var l=a.value;this[l]=null}}catch(u){s.e(u)}finally{s.f()}Object.seal(this)},C={props:{input:String,bus:n["default"]},data:function(){return{widgetTypes:b}},mounted:function(){this.bus.$on("onRequestedData",this.getWidgetData)},methods:{openPrompt:function(t){this.$emit("onAskedPrompt",t)},getWidgetData:function(t){var e=this,i=t.widgetType,n=new _(i.information);if(Object.prototype.hasOwnProperty.call(i,"api")){var r=t.input,o=new URL(i.api);o.searchParams.set(i.paramName,r),v.a.get(o).then((function(t){switch(i.id){case e.widgetTypes.WEATHER.id:var o=t.data;n.subtitle=o.location.name,n.properties={temperature:o.current.temperature,icon:o.current.weather_icons[0]};break;case e.widgetTypes.PICTURES.id:t=(new DOMParser).parseFromString(t.data,"application/xml");var a,c=[],s=Object(g["a"])(t.getElementsByTagName("photo"));try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.getAttribute("server"),d=l.getAttribute("id"),m=l.getAttribute("secret");c.push("https://live.staticflickr.com/".concat(u,"/").concat(d,"_").concat(m,"_s.jpg")),n.subtitle=r,n.properties={pictures:c,nbPictures:3}}}catch(p){s.e(p)}finally{s.f()}break;case e.widgetTypes.NEWS.id:n.subtitle=r,n.properties={articles:t.data.articles};break}e.$emit("onReceivedDataWidget",n)})).catch((function(t){console.error(t),e.$emit("onError")}))}else this.$emit("onReceivedDataWidget",n)}}},E=C,W=Object(u["a"])(E,p,f,!1,null,null,null),T=W.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"gridContainer"}},[i("grid-layout",{attrs:{layout:t.layout,"col-num":t.colNum,"is-draggable":t.draggable,"is-resizable":t.resizable,responsive:t.responsive,"vertical-compact":!0,"use-css-transforms":!0},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.layoutUpdatedEvent}},t._l(t.layout,(function(e){return i("grid-item",{key:e.i,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,static:!1}},[i("widget",{attrs:{themeColor:t.themeColor,widgetInfo:e.widgetInfo},on:{deleteWidget:t.deleteWidgetFromSource}})],1)})),1)],1)},O=[],I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("md-card",{attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-icon",{style:{color:t.themeColor}},[t._v(t._s(t.widgetInfo.materialIcon))]),i("div",{staticClass:"md-title"},[t._v(t._s(t.widgetInfo.title))]),t.widgetInfo.subtitle?i("div",{staticClass:"md-subhead"},[t._v(" "+t._s(t.widgetInfo.subtitle)+" ")]):t._e()],1),i("md-card-content",[i(t.widgetInfo.componentName,{tag:"component",attrs:{properties:t.widgetInfo.properties}})],1),i("md-card-actions",[t.widgetInfo.configurable?i("md-button",{staticClass:"md-icon-button md-raised"},[i("md-icon",[t._v("settings")])],1):t._e(),i("md-button",{staticClass:"md-icon-button md-raised md-accent",on:{click:t.deleteWidget}},[i("md-icon",[t._v("delete")])],1)],1)],1)},P=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("img",{attrs:{src:t.properties.icon,alt:"weather icon"}}),i("span",{staticClass:"temperature"},[t._v(t._s(t.properties.temperature)+"°")])])},N=[],j=(i("a9e3"),{name:"Widget",props:{properties:{icon:String,temperature:Number}}}),x=j,A=(i("dc0e"),Object(u["a"])(x,S,N,!1,null,null,null)),$=A.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"dateTimeContainer"}},[t._v(t._s(t.dateTime))])},M=[],D={name:"Clock",data:function(){return{dateTime:(new Date).toLocaleString("fr-FR")}},mounted:function(){var t=this;setInterval((function(){t.dateTime=(new Date).toLocaleString("fr-FR")}),1e3)}},R=D,B=Object(u["a"])(R,L,M,!1,null,null,null),F=B.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.filterNbPictures,(function(t,e){return i("img",{key:e,attrs:{src:t}})})),0)},G=[],U=(i("fb6a"),{name:"Pictures",props:{properties:{pictures:Array,nbPictures:Number}},computed:{filterNbPictures:function(){return this.properties.pictures.slice(0,this.properties.nbPictures)}}}),q=U,H=Object(u["a"])(q,z,G,!1,null,null,null),J=H.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"twitter-timeline",attrs:{href:"https://twitter.com/MichelBillaud?ref_src=twsrc%5Etfw"}},[t._v("Tweets by MichelBillaud")])},Q=[],V={name:"MichelBillaudTwitter",mounted:function(){var t=document.getElementById("twitterJsScript");t&&t.remove();var e=document.createElement("script");e.setAttribute("src","https://platform.twitter.com/widgets.js"),e.setAttribute("charset","utf-8"),e.setAttribute("id","twitterJsScript"),document.body.appendChild(e)}},X=V,Y=Object(u["a"])(X,K,Q,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.properties.articles,(function(e,n){return i("div",{key:n},[i("img",{attrs:{src:e.urlToImage}}),i("p",[i("a",{attrs:{href:e.url}},[t._v(t._s(e.title))]),t._v(" by "+t._s(e.author)+" on "+t._s(e.publishedAt))]),i("p",[t._v(t._s(e.description))])])})),0)},et=[],it={name:"News",props:{properties:{articles:Array}}},nt=it,rt=Object(u["a"])(nt,tt,et,!1,null,null,null),ot=rt.exports,at={name:"Widget",props:["widgetInfo","themeColor"],components:{Weather:$,Clock:F,Pictures:J,MichelBillaudTwitter:Z,News:ot},methods:{deleteWidget:function(){this.$emit("deleteWidget",this.widgetInfo.id)}}},ct=at,st=(i("6cab"),Object(u["a"])(ct,I,P,!1,null,null,null)),lt=st.exports,ut=i("7be8"),dt={name:"WidgetsList",props:["widgets","themeColor"],data:function(){return{layout:this.widgets,draggable:!0,resizable:!0,responsive:!0,colNum:12,loadFromLocalStorage:"undefined"!==typeof localStorage.layout}},components:{Widget:lt,GridLayout:ut["GridLayout"],GridItem:ut["GridItem"]},watch:{widgets:function(){var t=this;if(this.loadFromLocalStorage){var e=JSON.parse(localStorage.layout);this.layout=e,this.loadFromLocalStorage=!1}else{var i,n=this.widgets.filter((function(e){return!t.layout.some((function(t){return t.i===e.id}))})),r=this.layout.filter((function(e){return!t.widgets.some((function(t){return t.id===e.i}))})),o=Object(g["a"])(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.addWidget(a)}}catch(u){o.e(u)}finally{o.f()}var c,s=Object(g["a"])(r);try{for(s.s();!(c=s.n()).done;){var l=c.value;this.deleteWidget(l.i)}}catch(u){s.e(u)}finally{s.f()}}}},methods:{addWidget:function(t){this.layout.push({x:2*this.layout.length%(this.colNum||12),y:this.layout.length+(this.colNum||12),w:2,h:2,i:t.id,widgetInfo:t}),this.index++},deleteWidget:function(t){var e=this.layout.map((function(t){return t.i})).indexOf(t);this.layout.splice(e,1)},deleteWidgetFromSource:function(t){this.$emit("deleteWidgetFromSource",t)},layoutUpdatedEvent:function(t){"undefined"!==typeof t&&t.length>0&&(localStorage.layout=JSON.stringify(t))}}},mt=dt,pt=(i("5401"),Object(u["a"])(mt,k,O,!1,null,"3ff23f18",null)),ft=pt.exports,gt=i("79e8"),ht=i.n(gt),vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("md-dialog-prompt",{attrs:{"md-active":t.active,"md-title":t.title,"md-input-maxlength":"30","md-input-placeholder":t.placeholder,"md-cancel-text":"Annuler","md-confirm-text":"Valider"},on:{"update:mdActive":function(e){t.active=e},"update:md-active":function(e){t.active=e},"md-confirm":t.confirm,"md-cancel":t.cancel},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})},bt=[],wt={props:{bus:n["default"]},data:function(){return{widgetType:null,active:!1,title:"",placeholder:"",input:null}},mounted:function(){this.bus.$on("onAskedPrompt",this.openPrompt)},methods:{openPrompt:function(t){switch(this.widgetType=t,this.widgetType){case b.WEATHER:this.title="Pour quelle ville souhaitez-vous la météo ?",this.placeholder="Écrivez le nom de la ville...";break;case b.PICTURES:this.title="Quelles images souhaitez-vous ?",this.placeholder="Écrivez vos mots-clés...";break;case b.NEWS:this.title="Quelles informations recherchez-vous ?",this.placeholder="Écrivez vos mots-clés...";break}this.active=!0},confirm:function(){this.$emit("onConfirm",{widgetType:this.widgetType,input:this.input}),this.input=""},cancel:function(){this.input="",this.$emit("onCancel")}}},yt=wt,_t=Object(u["a"])(yt,vt,bt,!1,null,null,null),Ct=_t.exports,Et={name:"App",data:function(){return{widgets:[],bus:new n["default"],hasWidgetError:!1,themeColor:"#448aff"}},components:{Menu:m,WidgetsList:ft,InputColorPicker:ht.a,WidgetsAdder:T,PromptsManager:Ct},mounted:function(){if(localStorage.themeColor&&(this.themeColor=localStorage.themeColor),localStorage.layout)try{this.widgets=JSON.parse(localStorage.layout).map((function(t){return t.widgetInfo}))}catch(t){localStorage.removeItem("layout")}},methods:{openPrompt:function(t){this.bus.$emit("onAskedPrompt",t)},requestData:function(t){this.bus.$emit("onRequestedData",t)},addWidget:function(t){t.id=this.widgets.length,this.widgets.push(t)},deleteWidget:function(t){var e=this.widgets.map((function(t){return t.id})).indexOf(t);this.widgets.splice(e,1),0===this.widgets.length&&localStorage.removeItem("layout")}},watch:{themeColor:function(t){document.documentElement.style.setProperty("--md-theme-default-primary",t),localStorage.themeColor=t}}},Wt=Et,Tt=(i("5c0b"),Object(u["a"])(Wt,r,o,!1,null,null,null)),kt=Tt.exports,Ot=i("43f9"),It=i.n(Ot),Pt=(i("51de"),i("e094"),i("9483"));Object(Pt["a"])("".concat("/iGoogle/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["default"].config.productionTip=!1,n["default"].use(It.a),new n["default"]({render:function(t){return t(kt)}}).$mount("#app")},"588d":function(t,e,i){t.exports=i.p+"img/emile-doyen(NB).b6241d51.jpg"},"5c0b":function(t,e,i){"use strict";i("9c0c")},"6cab":function(t,e,i){"use strict";i("73ac")},"73ac":function(t,e,i){},"9c0c":function(t,e,i){},a0d8:function(t,e,i){"use strict";i("3e0f")},dc0e:function(t,e,i){"use strict";i("f90a")},f6dd:function(t,e,i){},f90a:function(t,e,i){}});
//# sourceMappingURL=app.fdcfd017.js.map